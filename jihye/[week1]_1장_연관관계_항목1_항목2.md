# 1장 연관관계
## 항목1: @OneToMany 효과적으로 구성하는 방법
> 단방향 연관관계 보다 양방향을 사용하자

>Q. 양방향 @OneToMany 연관관계 도메인 모델에서 많이 사용하나요..? 단방향을 많이 사용 한다고 들어서요.

- 항상 부모 측에서 자식 측으로 전이 사용
- 부모 측에 mappedBy 지정
  - 부모 측 mappedBy에 의해 자식 측에 @ManyToOne 지정됨.
- 부모 측에 orphanRemoval 지정 (orphanRemoval = true)
  - orphanRemoval은 더 이상 참조되지 않는 자식들의 삭제 보장
- 도우미 메서드를 사용해서 연관관계의 양측을 동기화 상태로 유지
>Q. 도우미 메서드?? Helper Method 예제 처럼 사용 했을 때 이점 확인 해보기!
- 자식 측, 자동 생성된 데이터베이스 식별자의 경우 eqals(), hashCode() 오버라이딩
  - equlas(): 동등성 검사 전에 식별자 null 인지 확인 필요
  - hashCode(): 상수 값 반환해야 함
- 연관관계 양측에서 지연 로딩 사용
  - 자식측 @ManyToOne LAZY로 설정 권장
- toString() 오버라이딩 주의
  - 연관관계 제외한 기본속성만 사용해야 함
- @JoinColumn을 사용해 의도적인 이름으로 조인 칼럼 지정

```java

@Entity
ing..

```

## 항목2: 단방향 @OneToMany 연관관계를 피해야 하는 이유
- 일반적인 단방향 @OneToMany 사용 할 경우 데이터 읽기, 쓰기, 삭제에 대해 양방향에 비해 덜 효율적
  - 부모-자식 연관관계를 표현하기 위한 별도 연결 테이블 필요
  - 불필요한 SQL 호출 추가되어 성능 저하



